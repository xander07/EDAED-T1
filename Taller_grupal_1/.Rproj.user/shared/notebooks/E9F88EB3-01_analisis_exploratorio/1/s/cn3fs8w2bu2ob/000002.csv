"0","saber11 <- vector(""integer"", length(encuesta$Q05_Saber11))"
"0","for(i in seq_along(encuesta$Q07_FechaSaber11)){"
"0","  valor<-0"
"0","  if(!is.na(encuesta$Q05_Saber11[[i]]) & encuesta$Q07_FechaSaber11[[i]] < as.Date(""2000-01-01"")) {"
"0","    valor <- (5*(encuesta$Q05_Saber11[[i]]-100))/3"
"0","    if(valor >= 0 & valor <= 500){"
"0","      saber11[[i]] <- round(valor,0)"
"0","    } else {"
"0","      saber11[[i]] <- encuesta$Q05_Saber11[[i]]"
"0","    }"
"0","  } else if(!is.na(encuesta$Q05_Saber11[[i]]) & encuesta$Q07_FechaSaber11[[i]] >= as.Date(""2000-01-01"") &"
"0","        encuesta$Q07_FechaSaber11[[i]] < as.Date(""2012-01-01"")){"
"0","            valor <- encuesta$Q05_Saber11[[i]]*5"
"0","            if(valor >= 0 & valor <= 500){"
"0","              saber11[[i]] <- valor"
"0","            } else {"
"0","              saber11[[i]] <- encuesta$Q05_Saber11[[i]]"
"0","            }"
"0","  } else if(!is.na(encuesta$Q05_Saber11[[i]]) & encuesta$Q07_FechaSaber11[[i]] >= as.Date(""2012-01-01"")){"
"0","            saber11[[i]] <- encuesta$Q05_Saber11[[i]]"
"0","  } else{"
"0","      saber11[[i]] <- encuesta$Q05_Saber11[[i]]"
"0","  }"
"0","}"
"0","## Si quedó algún valor fuera del rango [0, 500] lo convertimos en un NA"
"0","saber11[saber11 >= 500 & !is.na(saber11)] <- NA"
"0","saber11[saber11 <= 0 & !is.na(saber11)] <- NA"
"0","encuesta$Q05_Saber11 = saber11"
"0",""
"0","plot(encuesta$Q05_Saber11,1:87,col=""red"",pch = 19, ylab = ""Registro"", las=1  ,main = ""Puntaje SABER 11 por orden de registro"", na.rm = TRUE)"
